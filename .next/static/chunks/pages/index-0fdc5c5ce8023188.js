(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8581:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(1546)}])},1546:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSP:function(){return W},default:function(){return ee}});var n=r(5893),a=r(9008),s=r(7294),o=r(3299),i=r(1782),l=r(6486),c=r(2804),u=(0,c.cn)({key:"playlistState",default:null}),f=(0,c.cn)({key:"playlistIdState",default:"6fQM8KRExnA7SUnvlFZmaU"}),d=r(7539),m=new(r.n(d)())({clientId:"3d04d69651e64f23a801a677623e0ea6",clientSecret:"306e3021dc1048f085367eb27bc176c8"});var h=function(){var e=(0,o.useSession)(),t=e.data;return e.status,(0,s.useEffect)((function(){t&&("RefreshAccessTokenError"===t.error&&(0,o.signIn)(),m.setAccessToken(t.user.accessToken))}),[t]),m},x=r(4051),v=r.n(x),y=(0,c.cn)({key:"currentTrackIdState",default:null}),p=(0,c.cn)({key:"isPlayingState",default:!1});function b(e){var t=Math.floor(e/6e4),r=(e%6e4/1e3).toFixed(0);return 60==r?t+1+":00":t+":"+(r<10?"0":"")+r}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g(e,t,r,n,a,s,o){try{var i=e[s](o),l=i.value}catch(c){return void r(c)}i.done?t(l):Promise.resolve(l).then(n,a)}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s=[],o=!0,i=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(s.push(n.value),!t||s.length!==t);o=!0);}catch(l){i=!0,a=l}finally{try{o||null==r.return||r.return()}finally{if(i)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var N=function(e){var t=e.order,r=e.track,a=h(),s=w((0,c.FV)(y),2),o=(s[0],s[1]),i=w((0,c.FV)(p),2),l=(i[0],i[1]),u=function(){var e,t=(e=v().mark((function e(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(r.track.id),l(!0),a.play({urls:[r.track.url]});case 3:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,a){var s=e.apply(t,r);function o(e){g(s,n,a,o,i,"next",e)}function i(e){g(s,n,a,o,i,"throw",e)}o(void 0)}))});return function(){return t.apply(this,arguments)}}();return(0,n.jsxs)("div",{className:"grid grid-cols-2 text-gray-500 py-4 px-5 hover:bg-gray-900 rounded-lg cursor-pointer",onClick:u,children:[(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,n.jsxs)("p",{children:[" ",t+1," "]}),(0,n.jsx)("img",{className:"h-10 w-10",src:r.track.album.images[0].url}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("p",{className:"w-36 lg:w-64 font-semibold text-white truncate",children:[" ",r.track.name," "]}),(0,n.jsxs)("p",{className:"w-40",children:[" ",r.track.artists[0].name," "]})]})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between ml-auto md:ml-0",children:[(0,n.jsxs)("p",{className:"w-40 hidden md:inline",children:[" ",r.track.album.name," "]}),(0,n.jsx)("p",{children:b(r.track.duration_ms)})]})]})};var k=function(){var e=(0,c.sJ)(u);return(0,n.jsx)("div",{className:"px-8 flex flex-col space-y-1 pb-28 text-white",children:null===e||void 0===e?void 0:e.tracks.items.map((function(e,t){return(0,n.jsx)(N,{track:e,order:t},e.track.id)}))})};function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s=[],o=!0,i=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(s.push(n.value),!t||s.length!==t);o=!0);}catch(l){i=!0,a=l}finally{try{o||null==r.return||r.return()}finally{if(i)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return S(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var C=["from-indigo-500","from-blue-500","from-green-500","from-red-500","from-yellow-500","from-pink-500","from-purple-500"];var E=function(){var e,t,r=(0,o.useSession)().data,a=h(),d=(0,s.useState)(null),m=d[0],x=d[1],v=(0,c.sJ)(f),y=A((0,c.FV)(u),2),p=y[0],b=y[1];return(0,s.useEffect)((function(){x((0,l.shuffle)(C).pop())}),[v]),(0,s.useEffect)((function(){a.getPlaylist(v).then((function(e){b(e.body)})).catch((function(e){return console.log("Something went wrong!",e)}))}),[a,v]),console.log(p),(0,n.jsxs)("div",{className:"flex-grow h-screen overflow-y-scroll scrollbar-hide font-[Roboto]",children:[(0,n.jsx)("header",{className:"absolute top-5 right-8",children:(0,n.jsxs)("div",{className:"flex items-center bg-black space-x-3 opacity-90 hover:opacity-80 cursor-pointer rounded-full p-1 pr-3 text-white",onClick:o.signOut,children:[(0,n.jsx)("img",{className:"rounded-full w-10 h-10",src:null===r||void 0===r?void 0:r.user.image,alt:""}),(0,n.jsxs)("h2",{className:"font-semibold",children:[" ",null===r||void 0===r?void 0:r.user.name," "]}),(0,n.jsx)(i.Z,{className:"h-5 w-5"})]})}),(0,n.jsxs)("section",{className:"flex items-end space-x-7 bg-gradient-to-b to-black ".concat(m," h-80 text-white p-8"),children:[(0,n.jsx)("img",{className:"h-44 w-44 shadow-2xl",src:null===p||void 0===p||null===(e=p.images)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.url,alt:""}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"font-semibold",children:" PLAYLIST "}),(0,n.jsxs)("h1",{className:"text-2xl md:text-3xl xl:text-5xl font-bold",children:[" ",null===p||void 0===p?void 0:p.name," "]})]})]}),(0,n.jsx)("div",{children:(0,n.jsx)(k,{})})]})};function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _(e,t,r,n,a,s,o){try{var i=e[s](o),l=i.value}catch(c){return void r(c)}i.done?t(l):Promise.resolve(l).then(n,a)}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s=[],o=!0,i=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(s.push(n.value),!t||s.length!==t);o=!0);}catch(l){i=!0,a=l}finally{try{o||null==r.return||r.return()}finally{if(i)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return I(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var T=function(){var e=h(),t=P((0,c.FV)(y),2),r=t[0],n=(t[1],(0,s.useState)(null)),a=n[0],o=n[1];return(0,s.useEffect)((function(){var t=function(){var t,n=(t=v().mark((function t(){var n;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=5;break}return t.next=3,fetch("https://api.spotify.com/v1/tracks/".concat(r),{headers:{Authorization:"Bearer ".concat(e.getAccessToken())}}).then((function(e){return e.json()}));case 3:n=t.sent,o(n);case 5:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,a){var s=t.apply(e,r);function o(e){_(s,n,a,o,i,"next",e)}function i(e){_(s,n,a,o,i,"throw",e)}o(void 0)}))});return function(){return n.apply(this,arguments)}}();t()}),[r,e]),a},Z=r(1361),O=r(4634),M=r(1005),F=r(6980),U=r(6111),V=r(9406),$=r(7488),L=r(1807);function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s=[],o=!0,i=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(s.push(n.value),!t||s.length!==t);o=!0);}catch(l){i=!0,a=l}finally{try{o||null==r.return||r.return()}finally{if(i)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var J=function(){var e,t,r,a,i=h(),u=o.useSession.data,f=(o.useSession.status,R((0,c.FV)(y),2)),d=f[0],m=f[1],x=R((0,c.FV)(p),2),v=x[0],b=x[1],j=(0,s.useState)(50),g=j[0],w=j[1],N=T(),k=function(){i.getMyCurrentPlaybackState().then((function(e){e.body.is_playing?(i.pause(),b(!1)):(i.play(),b(!0))}))};(0,s.useEffect)((function(){i.getAccessToken()&&!d&&(N||i.getMyCurrentPlayingTrack().then((function(e){var t,r,n;console.log("Now Playing : ",null===(t=e.body)||void 0===t?void 0:t.item),m(null===(r=e.body)||void 0===r||null===(n=r.item)||void 0===n?void 0:n.id),i.getMyCurrentPlaybackState().then((function(e){var t;b(null===(t=e.body)||void 0===t?void 0:t.is_playing)}))})),w(50))}),[y,i,u]),(0,s.useEffect)((function(){g>0&&g<100&&S(g)}),[g]);var S=(0,s.useCallback)((0,l.debounce)((function(e){i.setVolume(e).catch((function(e){}))}),500),[]);return(0,n.jsxs)("div",{className:"h-24 bg-gradient-to-b from-black to-gray-900 text-white grid grid-cols-3 text-xs md:text-base px-2 md:px-8",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,n.jsx)("img",{className:"hidden md:inline h-10 w-10",src:null===(e=null===N||void 0===N?void 0:N.album.images)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.url,alt:""}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("h3",{className:"font-semibold",children:[" ",null===N||void 0===N?void 0:N.name," "]}),(0,n.jsxs)("p",{children:[" ",null===N||void 0===N||null===(r=N.artists)||void 0===r||null===(a=r[0])||void 0===a?void 0:a.name," "]})]})]}),(0,n.jsxs)("div",{className:"flex items-center justify-evenly",children:[(0,n.jsx)(O.Z,{className:"button"}),(0,n.jsx)(M.Z,{className:"button"}),v?(0,n.jsx)(F.Z,{onClick:k,className:"button w-10 h-10"}):(0,n.jsx)(U.Z,{onClick:k,className:"button w-10 h-10"}),(0,n.jsx)(V.Z,{className:"button"}),(0,n.jsx)($.Z,{className:"button"})]}),(0,n.jsxs)("div",{className:"flex items-center space-x-3 md:space-x-4 justify-end pr-5",children:[(0,n.jsx)(Z.Z,{onClick:function(){return g>0&&w(g-10)},className:"button"}),(0,n.jsx)("input",{className:"w-14 md:w-28",type:"range",value:g,onChange:function(e){return w(Number(e.target.value))},min:0,max:100}),(0,n.jsx)(L.Z,{onClick:function(){return g<100&&w(g+10)},className:"button"})]})]})},X=r(243),z=r(3737),B=r(9668),G=r(219),H=r(2350),K=r(86);function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s=[],o=!0,i=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(s.push(n.value),!t||s.length!==t);o=!0);}catch(l){i=!0,a=l}finally{try{o||null==r.return||r.return()}finally{if(i)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Q(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var D=function(){var e=h(),t=(0,o.useSession)(),r=t.data,a=(t.status,(0,s.useState)([])),i=a[0],l=a[1],u=q((0,c.FV)(f),2),d=u[0],m=u[1];return console.log("You've picked playlist >>> ",d),(0,s.useEffect)((function(){e.getAccessToken()&&e.getUserPlaylists().then((function(e){l(e.body.items)}))}),[r,e]),console.log(i),(0,n.jsx)("div",{className:"text-gray-500 p-5 text-xs lg:text-sm border-r border-gray-900 overflow-y-scroll scrollbar-hide h-screen sm:max-w-[12rem] lg:max-w-[15rem] hidden md:inline-flex font-semibold",children:(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("button",{className:"flex items-center space-x-2 hover:text-white",children:[(0,n.jsx)(X.Z,{className:"h-5 w-5"}),(0,n.jsx)("p",{children:" Home "})]}),(0,n.jsxs)("button",{className:"flex items-center space-x-2 hover:text-white",children:[(0,n.jsx)(z.Z,{className:"h-5 w-5"}),(0,n.jsx)("p",{children:" Search "})]}),(0,n.jsxs)("button",{className:"flex items-center space-x-2 hover:text-white",children:[(0,n.jsx)(B.Z,{className:"h-5 w-5"}),(0,n.jsx)("p",{children:" Your Library "})]}),(0,n.jsx)("hr",{className:"border-t-[0.1px] border-gray-900"}),(0,n.jsxs)("button",{className:"flex items-center space-x-2 hover:text-white",children:[(0,n.jsx)(G.Z,{className:"h-5 w-5"}),(0,n.jsx)("p",{children:" Create Playlist "})]}),(0,n.jsxs)("button",{className:"flex items-center space-x-2 hover:text-white",children:[(0,n.jsx)(H.Z,{className:"h-5 w-5"}),(0,n.jsx)("p",{children:" Liked Songs "})]}),(0,n.jsxs)("button",{className:"flex items-center space-x-2 hover:text-white",children:[(0,n.jsx)(K.Z,{className:"h-5 w-5"}),(0,n.jsx)("p",{children:" Your Episodes "})]}),(0,n.jsx)("hr",{className:"border-t-[0.1px] border-gray-900"}),i.map((function(e){return(0,n.jsx)("p",{onClick:function(){return m(e.id)},className:"cursor-pointer hover:text-white",children:e.name},e.id)}))]})})},W=!0;function ee(){return(0,n.jsxs)("div",{className:"bg-black h-screen overflow-hidden",children:[(0,n.jsxs)(a.default,{children:[(0,n.jsx)("title",{children:"Spotify 2.0 (Clone)"}),(0,n.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,n.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,n.jsxs)("main",{className:"flex",children:[(0,n.jsx)(D,{}),(0,n.jsx)(E,{})]}),(0,n.jsx)("div",{className:"sticky bottom-0",children:(0,n.jsx)(J,{})})]})}},4654:function(){}},function(e){e.O(0,[662,710,774,888,179],(function(){return t=8581,e(e.s=t);var t}));var t=e.O();_N_E=t}]);